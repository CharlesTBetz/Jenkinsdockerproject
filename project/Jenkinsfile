#!groovy

pipeline {
    agent any
stages{
    stage('Build Image') {
	steps {
        /* Let's make sure we have the repository cloned to our workspace */
         sh 'git config user.email "bredemi@yahoo.com"'
	 sh 'git config user.name "emeka"'
        checkout([$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'PerBuildTag']], submoduleCfg: [], userRemoteConfigs: [[url: 'https://github.com/mekulaventure/Jenkinsdockerproject.git']]])
        sh 'pwd'
	sh 'ls' 
        sh 'cd ~/workspace/MyTest/project'
	sh 'ls project'
        sh 'FROM jenkins/jenkins:lts'
sh 'USER root'
sh 'RUN apt-get update'
sh 'RUN apt-get install -y \'
sh 'apt-transport-https \'
sh 'ca-certificates \'
sh 'curl \'
sh 'gnupg2 \'
sh 'software-properties-common'
sh 'RUN curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -'
sh 'RUN add-apt-repository \'
sh 'deb [arch=amd64] https://download.docker.com/linux/debian \ (lsb_release -cs) \stable'
sh 'RUN apt-get update'
sh 'RUN apt-get install -y docker-ce'
	sh 'project/mytest.sh'
		    }
	    }
	}
    }

